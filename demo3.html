<!DOCTYPE html>
<html>
<head>
  <style type="text/css">
  table.main{
    background-image: url("iphone.png");
    background-repeat:no-repeat;
    background-size: 300px 600px;
    padding-left: 15px;
    }
  table, th, td {
     border: 1px solid black;
  }

  </style>
  <script type="text/javascript">
  var exist =["false", "false", "false", "false", "false"];
  function showSkill(skillValue){
    var table=document.getElementById("servants");
    var innerTable=document.createElement("table");
    var tr=document.createElement("tr");
    var td=document.createElement("td");
    var btn=document.createElement("button");
    btn.type="button";
    var btn1=document.createElement("button");
    btn1.type="button";
    var btn2=document.createElement("button");
    btn2.type="button";

    if(skillValue==1 && exist[0]=="false"){
      var txt =document.createTextNode("Heart Rate");
      innerTable.id='Vitals';

      btn.appendChild(txt);
      btn.style.padding = "0px";
      btn.id="HrtRt";
      btn.setAttribute('onclick', "buttonFunction('Vitals',this.id, 'W','G');");

      txt=document.createTextNode("Blood pressure");
      btn1.appendChild(txt);
      btn1.style.padding = "0px";
      btn1.style.margin = "0px 5px";
      btn1.id="Blood Pressure";
      btn1.setAttribute('onclick', "buttonFunction(innerTable.id,this.id,'D','G');");


      txt=document.createTextNode("Temperature");
      btn2.appendChild(txt);
      btn2.style.padding = "0px";
      btn2.id="Temperature";
      btn2.setAttribute('onclick', "buttonFunction(innerTable.id,this.id,D,G);");


      td.appendChild(btn);
      td.appendChild(btn1);
      td.appendChild(btn2);
      tr.appendChild(td);
      innerTable.appendChild(tr);
      table.appendChild(innerTable);
      exist[0]="true";
    }
    else if(skillValue==2 && exist[1]=="false"){
      var txt =document.createTextNode("Infusion Pump");
      innerTable.id="Medication";

      btn.appendChild(txt);
      btn.id="Inf";
      btn.setAttribute('onclick', "buttonFunction(innerTable.id,this.id,W,S)");

      txt=document.createTextNode("Blood Glucose");
      btn1.appendChild(txt);
      btn1.style.margin = "0px 5px";
      btn1.id="Gul";
      btn1.setAttribute('onclick', "buttonFunction(innerTable.id,this.id,W,S);");

      td.appendChild(btn);
      td.appendChild(btn1);
      tr.appendChild(td);
      innerTable.appendChild(tr);
      table.appendChild(innerTable);
      exist[1]="true";
    }
    else if(skillValue==3 && exist[2]=="false"){
      innerTable.id="Imaging";
      var txt =document.createTextNode("CT Scan");
      btn.appendChild(txt);
      btn.id="Ct";
      btn.setAttribute('onclick', "buttonFunction(innerTable.id,this.id,D,G);");

      txt=document.createTextNode("ECG");
      btn1.appendChild(txt);
      btn1.style.margin = "0px 5px";
      btn1.id="Ecg";
      btn1.setAttribute('onclick', "buttonFunction(innerTable.id,this.id,W,G);");

      td.appendChild(btn);
      td.appendChild(btn1);
      tr.appendChild(td);
      innerTable.appendChild(tr);
      table.appendChild(innerTable);
      exist[2]="true";
    }
    else if(skillValue==4 && exist[3]=="false"){
      innerTable.id="EHR";
      var txt =document.createTextNode("Last Chart");
      btn.appendChild(txt);
      btn.id="lastChart";
      btn.setAttribute('onclick', "buttonFunction(innerTable.id,this.id,W,G);");

      txt=document.createTextNode("Save Chart");
      btn1.appendChild(txt);
      btn1.style.margin = "0px 5px";
      btn1.id="saveChart";
      btn1.setAttribute('onclick', "buttonFunction(innerTable.id,this.id,W,G);");

      td.appendChild(btn);
      td.appendChild(btn1);
      tr.appendChild(td);
      innerTable.appendChild(tr);
      table.appendChild(innerTable);
      exist[3] = "true";
    }
    else{

    }
  }

   var contentArray = [];
   var contentResponse = [];

  function buttonFunction(servant, skill, activityType, getSet){

    if(getSet =='G'){
      if(activityType=='W'){
        contentArray[contentArray.length] = {activityTable: servant, activityName: skill, color1: "Yellow", col3:"true"};
        screenContent(1);
      }
    }
  }
  async function screenContent(side){

    var tr = document.createElement("tr");
    var td = document.createElement("td");

    if(side == 1){
    var table = document.getElementById(contentArray[contentArray.length-1].activityTable);
    var txt = document.createTextNode(contentArray[contentArray.length-1].activityName);
    td.appendChild(txt);
    tr.appendChild(td);
    table.appendChild(tr);
    if(contentArray[contentArray.length-1].activityName == "HrtRt"){
      contentResponse[contentResponse.length] = {activityTable: 'Vitals' ,activityName: '90bpm' };
    }
    await sleep(3000);
    screenContent(2);
    }
    if(side==2){
      var table = document.getElementById(contentResponse[contentResponse.length-1].activityTable);
      var txt= document.createTextNode(contentResponse[contentResponse.length-1].activityName);
      td.appendChild(txt);
      tr.appendChild(td);
      table.appendChild(tr);
    }
  }
  function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}
  </script>
</head>
<body>
<center>
  <table class="main" style="width:300px; height:600px;" >

    <tr >
      <td valign="top">

      <div id="servantList" style="margin:40px 0px 10px 0px;">
      &nbsp Patient Name: Alan <br/>
      <img src="line.png" alt="" width="95%"/><br />
        &nbsp Select Servant<br/><br>
        &nbsp   <button type="button" value="Vitals" onclick="showSkill(1)">Vitals</button>
        <button type="button" value="Medication" onclick="showSkill(2)">Medication</button>
        <button type="button" value="Imaging" onclick="showSkill(3)">Imaging</button>
        <button type="button" value="EHR" onclick="showSkill(4)">EHR</button>
        <img src="line.png" alt="" width="95%" >
      </div>
      <table id="servants">

      </table>
    </td>
    </tr>

  </table>
</center>
</body>
</html>
